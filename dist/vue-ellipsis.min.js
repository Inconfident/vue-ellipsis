
  /* !

  * vue-ellipsis v1.1.4

  * https://github.com/jypblue/vue-ellipsis

  * Released under the MIT License. 

  * 

  */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.VueEllipsis=t()}(this,function(){"use strict";function e(t){e.installed||t.component("ellipsis",{props:{data:{type:String,default:""},lineClamp:{type:Number,default:1},lineHeight:{type:String,default:"22px"},endChar:{type:String,default:"..."},endHtml:{type:String,default:""}},methods:{handleSubstrSentence:function(){var e=this.$refs.sentence,t=this.data;if(0===t.length)return console.error("the String is empty"),!1;e.innerHTML=t;var n=0,i=t.length,l=e.getBoundingClientRect().height||22,r=this.lineHeight.slice(0,this.lineHeight.length-2),h=r*this.lineClamp;if(l>h){for(;Math.abs(i-n)>1;){var d=Math.ceil((i+n)/2),s=t.substring(0,d);e.innerHTML=s,l=e.getBoundingClientRect().height||22,l<=h?n=d:i=d}for(;l>h;){var a=e.innerHTML.substring(0,e.innerHTML.trimRight().length-1);e.innerHTML=a,l=e.getBoundingClientRect().height||22}var u=this.endHtml?this.endHtml.replace(/<[^>]+>/g,""):"",o="..."===this.endChar?3:u.length+this.endChar.length,g=e.innerHTML.trimRight().length,c=e.innerHTML.substring(g-o,g),f=c.match(/\s+/g),p=f&&f.length?f.length:0,m=e.innerHTML.substring(0,g-o-p)+this.endChar+this.endHtml;e.innerHTML=m}},handleClick:function(e){this.$emit("click",e)}},watch:{data:{immediate:!0,deep:!0,handler:function(e){var t=this;window.setTimeout(function(){t.handleSubstrSentence()},300)}}},mounted:function(){},template:'\n    <div ref="sentence" @click="handleClick"></div>\n    '})}return"undefined"!=typeof window&&window.Vue&&window.Vue.use(e),e});